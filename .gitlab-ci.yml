stages:
  - before_script
  - build
  - code_quality
  - test
  - after_script

before_script:
  - chmod +x ./gradlew

build:
  stage: build
  script: ./gradlew assemble

code_quality:
  stage: code_quality
  script: ./gradlew sonarqube -Dsonar.projectKey=%sonar_key% -Dsonar.host.url=%sonar_host% -Dsonar.login=%sonar_login%

test:
  stage: test
  script: ./gradlew test

after_script:
  - echo "End CI"
